/* =============================================================
   NutraSynth Careers Portal Styles (style.css)
   Provides visual structure, retro scanline theming, form enhancements,
   interactive feedback, and post‑submission powerdown effects.
   All sections use present tense descriptions.
   ============================================================= */

/* == Imports & Web Fonts == */
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Sixtyfour&display=swap');

@font-face {
    font-family: 'DSEG14 Modern';
    src: url('../fonts/DSEG14Modern-LightItalic.woff2') format('woff2');
    font-weight: normal;
    font-style: italic;
}

/* == Base / Body (sets gradient background & primary typography) == */
body {
    margin: 0;
    font-family: 'Doto', sans-serif;
    background: linear-gradient(to bottom, #ff7f7f, #ffaaaa);
    color: #333;
}

/* == Static Scanline Overlay Layer (renders CRT texture) == */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.07;
    background: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 4px,
        #000 6px,
        transparent 10px,
        transparent 16px
    );
    mix-blend-mode: multiply;
}

/* == Scanline Animation Keyframes == */
@keyframes scanlines-scroll { 0% { background-position-y: 0; } 100% { background-position-y: -64px; } }

/* == Scanline Animated State (multi‑color cycling) == */
body.scanlines-animate::before {
    background: repeating-linear-gradient(
        to bottom,
        #00fff7 0px, #00fff7 4px,
        #ff00c8 6px, #ff00c8 8px,
        #fff600 10px, #fff600 12px,
        #00ff1a 14px, #00ff1a 16px,
        #fff 18px, transparent 24px
    );
    opacity: 0.13;
    transition: background 0.2s, opacity 1s linear;
    animation: scanlines-scroll 1s linear infinite;
}

/* == Scanline Fade State (smoothly removes overlay) == */
body.scanlines-fade::before { opacity: 0; transition: opacity 1s linear; }

/* == Neutral Black Scanline State (monochrome fallback) == */
body.scanlines-black::before {
    background: repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 4px,
        #000 6px,
        transparent 10px,
        transparent 16px
    );
    opacity: 0.07;
    animation: none !important;
    transition: opacity 1.5s cubic-bezier(0.4,0,0.2,1), background 0.2s;
}

/* == Hidden Scanlines (final removal) == */
body.hide-scanlines::before { opacity: 0 !important; transition: opacity 1.5s cubic-bezier(0.4,0,0.2,1); }

/* == Layout Container (centers content & constrains width) == */
.container { max-width: 90%; margin: 0 auto; padding: 2rem 0; position: relative; z-index: 1; }

/* == Header Row (aligns title & summary horizontally) == */
.header-row { display: flex; flex-direction: row; align-items: flex-start; justify-content: space-between; gap: 2rem; margin-bottom: 0.1rem; }

/* == Title Block (primary brand heading) == */
.title {
    text-align: left;
    font-size: 5rem;
    margin: 0 2rem 0 0;
    flex: 1 1 50%;
    line-height: 1.2;
    color: #fff;
    align-self: flex-start;
    padding-bottom: 0;
}

/* == Title Location Subline (displays geo / division metadata) == */
.title-location { display: block; font-size: 0.45em; font-weight: 400; margin-top: 0.2em; color: #ffe6fa; letter-spacing: 0.04em; }

/* == Summary Panel (displays company overview, scrollable) == */
.summary {
    font-size: 1.1rem;
    background-color: rgba(255, 255, 255, 0.6);
    padding: 1rem 2rem;
    border-radius: 10px;
    margin: 0 2rem 0 2rem;
    flex: 1 1 50%;
    max-width: 45vw;
    max-height: 40vh;
    align-self: flex-start;
    color: #000;
    font-family: 'IBM Plex Mono', monospace;
    overflow: auto;
    box-sizing: border-box;
    scrollbar-width: none;
    -ms-overflow-style: none;
}
.summary::-webkit-scrollbar { display: none; }

/* == Opportunity Grid (stacks role highlight rows) == */
.image-grid { display: flex; flex-direction: column; gap: 2rem; margin-bottom: 2rem; }
.image-row { display: flex; align-items: center; justify-content: space-between; width: 100%; gap: 2%; position: relative; }

/* == Caption Blocks (role / values descriptive panels) == */
.caption { width: 48%; font-size: 1.15rem; line-height: 1.4; color: #000; background-color: rgba(255, 255, 255, 0.5); padding: 1.5rem 2rem; border-radius: 10px; font-family: 'IBM Plex Mono', monospace; }
.caption-heading { display: block; font-size: 1.25em; font-weight: bold; margin-bottom: 0.5em; line-height: 1.2; }

/* == Details / Legal Section (displays disclosure content) == */
.details { font-size: 1rem; line-height: 1.6; background-color: rgba(255, 255, 255, 0.5); padding: 1.5rem; border-radius: 10px; margin-top: 2rem; color: #000; font-family: 'Montserrat', Arial, sans-serif; }

/* == Popup / Tooltip Link (reveals maintenance message on hover/focus) == */
.popup-link { position: relative; color: #aa00aa; text-decoration: underline dotted; cursor: pointer; outline: none; }
.popup-content { display: none; position: absolute; left: 50%; top: 120%; transform: translateX(-50%); min-width: 220px; background: #222; color: #fff; border-radius: 8px; padding: 1em 1.2em; font-size: 1em; box-shadow: 0 4px 16px #000a; z-index: 10; white-space: pre-line; pointer-events: none; }
.popup-link:hover .popup-content, .popup-link:focus .popup-content { display: block; pointer-events: auto; animation: popup-fade-in 0.2s; }

/* == Popup Fade-In Animation (smooth tooltip entrance) == */
@keyframes popup-fade-in { from { opacity: 0; transform: translateX(-50%) translateY(10px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }

/* == Submit Pulse Animation (emphasizes completed form state) == */
@keyframes submitPulse {
    0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.85), 0 0 14px 4px #fff, 0 0 34px 10px #ff8bff, 0 0 60px 16px #ff38ff; filter: brightness(1.15) saturate(1.2); }
    50% { box-shadow: 0 0 0 14px rgba(255,255,255,0), 0 0 28px 8px #ffe4ff, 0 0 70px 22px #ff59ff, 0 0 120px 32px #ff00d9; filter: brightness(1.35) saturate(1.4); }
    100% { box-shadow: 0 0 0 0 rgba(255,255,255,0.85), 0 0 14px 4px #fff, 0 0 34px 10px #ff8bff, 0 0 60px 16px #ff38ff; filter: brightness(1.15) saturate(1.2); }
}
.submit-glow { position: relative; animation: submitPulse 2.2s ease-in-out infinite; background: linear-gradient(135deg,#1a001a,#3d003d 40%,#780060); color: #fff !important; text-shadow: 0 0 6px #fff, 0 0 14px #ff9dff, 0 0 28px #ff42ff; }

/* == Application Form Typographic Scaling (improves readability) == */
#apply { font-size: 1.15rem; }
#apply h2 { font-size: 1.6rem; }
#apply label { font-size: 1.1rem !important; }
#apply input, #apply select, #apply textarea { font-size: 1.05rem; }
#apply button { font-size: 1.2rem !important; padding: 1rem 2.4rem !important; }

/* == Powerdown State (applies grayscale + contrast for shutdown effect) == */
.portal-powerdown body, .portal-powerdown { filter: grayscale(1) contrast(1.55) brightness(0.8); transition: filter 1.2s ease-in; }

/* == Crack Overlay (renders easter‑egg fracture image interactable) == */
#crack-overlay {
    position: fixed;
    right: 5vw;
    bottom: 15vh;
    width: 25vw;
    height: 25vh;
    object-fit: cover;
    z-index: 500;
    opacity: 1;
    pointer-events: auto;
    cursor: pointer;
    filter: grayscale(1) contrast(1.6) brightness(0.95);
    image-rendering: crisp-edges;
}
